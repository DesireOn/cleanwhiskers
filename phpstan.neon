parameters:
  # Use the highest level you can sustain; drop to 7/6 temporarily if needed.
  level: max

  paths:
    - src

  # Where to store cache (keep out of version control)
  tmpDir: var/phpstan

  # Composer autoload
  autoload_files:
    - vendor/autoload.php

  checkGenericClassInNonGenericObjectType: false
  checkMissingCallableSignature: true
  checkUninitializedProperties: true
  checkDynamicProperties: true
  reportUnmatchedIgnoredErrors: true

  # Symfony/Doctrine often use magic; keep the noise low without hiding real issues
  ignoreErrors:
    # Controller magic properties, if any slip through
    - '#Access to an undefined property .*Controller::\$.*#'
    # Doctrine proxies / magic getters
    - '#Access to an undefined property Doctrine\\\\.*#'
    # Twig template array-shapes (if you pass template vars as arrays)
    - '#Offset .* does not exist on array#'

  # Treat these as "true" to encourage better typing over time
  treatPhpDocTypesAsCertain: false
  checkMissingIterableValueType: true

  # Extensions (optional but recommended â€” install first)
  # requires: composer require --dev phpstan/extension-installer phpstan/phpstan-symfony phpstan/phpstan-doctrine
  # symfony:
  #   containerXmlPath: var/cache/test/App_KernelTestDebugContainer.xml

includes:
  # Load extensions automatically if you add them later
  # (commented out because extensions are not installed by default)
  #- vendor/phpstan/phpstan-doctrine/extension.neon
  #- vendor/phpstan/phpstan-doctrine/rules.neon
  #- vendor/phpstan/phpstan-symfony/extension.neon
  #- vendor/phpstan/phpstan-symfony/rules.neon
